{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Adam\\\\Desktop\\\\Code\\\\AndreiNeagoieZTM\\\\API's\\\\starwars-api-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"C:\\\\Users\\\\Adam\\\\Desktop\\\\Code\\\\AndreiNeagoieZTM\\\\API's\\\\starwars-api-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _slicedToArray from\"C:\\\\Users\\\\Adam\\\\Desktop\\\\Code\\\\AndreiNeagoieZTM\\\\API's\\\\starwars-api-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"C:\\\\Users\\\\Adam\\\\Desktop\\\\Code\\\\AndreiNeagoieZTM\\\\API's\\\\starwars-api-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Adam\\\\Desktop\\\\Code\\\\AndreiNeagoieZTM\\\\API's\\\\starwars-api-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Adam\\\\Desktop\\\\Code\\\\AndreiNeagoieZTM\\\\API's\\\\starwars-api-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Adam\\\\Desktop\\\\Code\\\\AndreiNeagoieZTM\\\\API's\\\\starwars-api-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Adam\\\\Desktop\\\\Code\\\\AndreiNeagoieZTM\\\\API's\\\\starwars-api-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Adam\\\\Desktop\\\\Code\\\\AndreiNeagoieZTM\\\\API's\\\\starwars-api-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import CardList from'../Components/CardList';import SearchBox from'../Components/SearchBox';// import { people } from './people';\nimport Scroll from'../Components/Scroll';import'./App.css';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this));_this.onSearchChange=function(event){_this.setState({searchfield:event.target.value});};_this.state={people:[],// basic state is an empty array\nsearchfield:''// basic state is empty\n};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var urls=['https://swapi.co/api/people/','https://swapi.co/api/people/?page=2','https://swapi.co/api/people/?page=3','https://swapi.co/api/people/?page=4','https://swapi.co/api/people/?page=5','https://swapi.co/api/people/?page=6','https://swapi.co/api/people/?page=7','https://swapi.co/api/people/?page=8','https://swapi.co/api/people/?page=9'];var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _ref2,_ref3,page1,page2,page3,page4,page5,page6,page7,page8,page9,peopleResults;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Promise.all(urls.map(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url);case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;return _context.abrupt(\"return\",json);case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref4.apply(this,arguments);};}()));case 3:_ref2=_context2.sent;_ref3=_slicedToArray(_ref2,9);page1=_ref3[0];page2=_ref3[1];page3=_ref3[2];page4=_ref3[3];page5=_ref3[4];page6=_ref3[5];page7=_ref3[6];page8=_ref3[7];page9=_ref3[8];// const peopleResults = Object.assign(page1.results, page2.results, page3.results);  // This didn't work because page3 would overide the previous pages because they had the same keys as previous pages\n// const peopleResults = page1.results.concat(page2.results, page3.results) // HELLLLLL YEAH! Got it working!! In order to get all them working I needed to concatenate all of the arrays together that are accessed through the page.results\npeopleResults=[].concat(_toConsumableArray(page1.results),_toConsumableArray(page2.results),_toConsumableArray(page3.results),_toConsumableArray(page4.results),_toConsumableArray(page5.results),_toConsumableArray(page6.results),_toConsumableArray(page7.results),_toConsumableArray(page8.results),_toConsumableArray(page9.results));// updated to spread syntax to be more up-to-date\n_this2.setState({people:peopleResults});// Had to remove the \"set state to outside the second async function\"\nconsole.log('page1',page1.results);console.log('page2',page2.results);console.log('page3',page3.results);_context2.next=24;break;case 21:_context2.prev=21;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 24:case\"end\":return _context2.stop();}}},_callee2,null,[[0,21]]);}));return function getData(){return _ref.apply(this,arguments);};}();getData();// fetch('https://swapi.co/api/people')\n//     .then(response => response.json())\n//     .then((data) => {\n//         this.setState({ people: data.results })\n//     })\n}},{key:\"render\",value:function render(){var _this$state=this.state,people=_this$state.people,searchfield=_this$state.searchfield;// destructuring this.state which allows us to just use people/searchfield instead of this.state.searchfield/people\nvar filteredPeople=people.filter(function(person){return person.name.toLowerCase().includes(searchfield.toLowerCase());});return!people.length?// if people.length is equal to 0\nReact.createElement(\"h1\",null,\" Loading.... \"):React.createElement(\"div\",{className:\"tc\"},React.createElement(\"h1\",{className:\"f1\"},\"Star Wars Api Project\"),React.createElement(SearchBox,{searchChange:this.onSearchChange}),React.createElement(Scroll,null,React.createElement(CardList,{people:filteredPeople})))// This ^^^ is the same as this below\n//    if (!people.length) { // if people.length is equal to 0\n//     return <h1> Loading.... </h1>\n// } else {\n//     return (\n//         <div className='tc'>\n//             <h1 className='f1'>Star Wars Api Project</h1>\n//             <SearchBox searchChange={this.onSearchChange} />\n//             <Scroll>\n//                 <CardList people={filteredPeople} />\n//             </Scroll>\n//         </div>\n;}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/Adam/Desktop/Code/AndreiNeagoieZTM/API's/starwars-api-app/src/Containers/App.js"],"names":["React","Component","CardList","SearchBox","Scroll","App","onSearchChange","event","setState","searchfield","target","value","state","people","urls","getData","Promise","all","map","url","fetch","response","json","page1","page2","page3","page4","page5","page6","page7","page8","page9","peopleResults","results","console","log","filteredPeople","filter","person","name","toLowerCase","includes","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport CardList from '../Components/CardList';\r\nimport SearchBox from '../Components/SearchBox';\r\n// import { people } from './people';\r\nimport Scroll from '../Components/Scroll';\r\nimport './App.css';\r\n\r\n\r\nclass App extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            people: [], // basic state is an empty array\r\n            searchfield: '' // basic state is empty\r\n        }\r\n    }\r\n\r\n    componentDidMount() {       \r\n        \r\n        const urls = [\r\n            'https://swapi.co/api/people/',\r\n            'https://swapi.co/api/people/?page=2',\r\n            'https://swapi.co/api/people/?page=3',\r\n            'https://swapi.co/api/people/?page=4',\r\n            'https://swapi.co/api/people/?page=5',\r\n            'https://swapi.co/api/people/?page=6',\r\n            'https://swapi.co/api/people/?page=7',\r\n            'https://swapi.co/api/people/?page=8',\r\n            'https://swapi.co/api/people/?page=9'\r\n          ]\r\n\r\n          const getData = async () => {\r\n              try {\r\n                const [ page1, page2, page3, page4, page5, page6, page7, page8, page9 ] = await Promise.all(urls.map(async function(url) {\r\n                    const response = await fetch(url);\r\n                    const json = await response.json();\r\n                    return json\r\n                }));\r\n                // const peopleResults = Object.assign(page1.results, page2.results, page3.results);  // This didn't work because page3 would overide the previous pages because they had the same keys as previous pages\r\n                // const peopleResults = page1.results.concat(page2.results, page3.results) // HELLLLLL YEAH! Got it working!! In order to get all them working I needed to concatenate all of the arrays together that are accessed through the page.results\r\n                const peopleResults = [...page1.results, ...page2.results, ...page3.results, ...page4.results, ...page5.results, ...page6.results, ...page7.results, ...page8.results, ...page9.results,]    // updated to spread syntax to be more up-to-date\r\n                this.setState({ people: peopleResults}); // Had to remove the \"set state to outside the second async function\"\r\n                console.log('page1', page1.results);\r\n                console.log('page2', page2.results);\r\n                console.log('page3', page3.results);\r\n              } catch (error) {\r\n                  console.log(error);\r\n              }\r\n            }\r\n\r\n            getData()\r\n          \r\n\r\n\r\n\r\n        // fetch('https://swapi.co/api/people')\r\n        //     .then(response => response.json())\r\n        //     .then((data) => {\r\n        //         this.setState({ people: data.results })\r\n        //     })\r\n    }\r\n    \r\n\r\n\r\n    \r\n\r\n    onSearchChange = (event) => {\r\n        this.setState({ searchfield: event.target.value })\r\n    \r\n    }\r\n\r\n    render() {\r\n        const { people, searchfield } = this.state; // destructuring this.state which allows us to just use people/searchfield instead of this.state.searchfield/people\r\n        const filteredPeople = people.filter(person => {\r\n            return person.name.toLowerCase().includes(searchfield.toLowerCase());\r\n        })\r\n        return !people.length ?  // if people.length is equal to 0\r\n            <h1> Loading.... </h1> :\r\n            (\r\n                <div className='tc'>\r\n                    <h1 className='f1'>Star Wars Api Project</h1>\r\n                    <SearchBox searchChange={this.onSearchChange} />\r\n                    <Scroll>\r\n                        <CardList people={filteredPeople} />\r\n                    </Scroll>\r\n                     \r\n                </div>\r\n\r\n\r\n                // This ^^^ is the same as this below\r\n\r\n        //    if (!people.length) { // if people.length is equal to 0\r\n        //     return <h1> Loading.... </h1>\r\n        // } else {\r\n        //     return (\r\n        //         <div className='tc'>\r\n        //             <h1 className='f1'>Star Wars Api Project</h1>\r\n        //             <SearchBox searchChange={this.onSearchChange} />\r\n        //             <Scroll>\r\n        //                 <CardList people={filteredPeople} />\r\n        //             </Scroll>\r\n                     \r\n        //         </div>\r\n            );\r\n        }\r\n    }\r\n\r\n\r\nexport default App"]},"metadata":{},"sourceType":"module"}